/*copyright Richard Milton 2011 version 1.0.0 - http://www.webweasel.co.uk/uk-bank-account-sort-code-jquery-plugin/example.html */
(function(a) {
    a.fn.extend({
        sortCode: function(b) {
            var c = { boxwidth: 20, debug: false };
            var b = a.extend(c, b);
            var d = 0;
            return this.each(function() {
                var c = b,
                    e = a(this),
                    f = e.attr("name"),
                    g = e.attr("name") + "-break-sort-" + d,
                    h = false,
                    i = e.val();
                try {
                    if (typeof f == "undefined") h = "name attribute missing";
                    if (a("input[name=" + f + "]").length > 1) h = "duplicate name attribute " + f;
                    if (!h) {
                        e.toggle(c.debug).after('<span class="' + g + '"><input type="text">-<input type="text">-<input type="text"></span>');
                        a("." + g + ">input").attr("maxlength", "2").css("width", c.boxwidth + "px").blur(function() { e.val(a("." + g + ">input:eq(0)").val() + "" + a("." + g + ">input:eq(1)").val() + "" + a("." + g + ">input:eq(2)").val()) }).keydown(function(a) { return a.which == 9 || a.which == 8 || a.which == 46 || a.which >= 48 && a.which <= 57 || a.which >= 96 && a.which <= 105 }).keyup(function(b) { if (b.which >= 48 && b.which <= 57 || b.which >= 96 && b.which <= 105) { if (a(this).val().length == 2 && a(this).next().length > 0) a(this).blur().next().select() } });
                        a("." + g + ">input:eq(0)").val(i && i != "" && i.length >= 2 ? i.substr(0, 2) : "");
                        a("." + g + ">input:eq(1)").val(i && i != "" && i.length >= 4 ? i.substr(2, 2) : "");
                        a("." + g + ">input:eq(2)").val(i && i != "" && i.length >= 6 ? i.substr(4, 2) : "");
                        d++
                    }
                } catch (j) { h = j + " (check html syntax)" }
                if (h && c.debug) { e.after(" <strong>sortCode() plugin error:</strong> " + h) }
            })
        }
    })
})(jQuery)